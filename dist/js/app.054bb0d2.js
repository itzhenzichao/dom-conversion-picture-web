(function(t){function e(e){for(var n,a,l=e[0],c=e[1],s=e[2],f=0,d=[];f<l.length;f++)a=l[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,s||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,l=1;l<o.length;l++){var c=o[l];0!==i[c]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={app:0},r=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var u=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0a87":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);var n=o("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],a=(o("6558"),o("2877")),l={},c=Object(a["a"])(l,i,r,!1,null,null,null),s=c.exports,u=o("8c4f"),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("el-container",[e("el-header",{staticClass:"editor-header",attrs:{height:"60px"}},[e("el-row",[e("el-col",{staticClass:"editor-btns",attrs:{span:8}},[e("el-button",{attrs:{type:"danger",round:"",size:"small"},on:{click:t.init}},[t._v("初始化")]),e("el-button",{attrs:{type:"success",loading:t.loading,disabled:!t.isShowDom,round:"",size:"small"},on:{click:t.createPicture}},[t._v("下载图片")])],1),e("el-col",{attrs:{span:8}}),e("el-col",{staticClass:"about",attrs:{span:8}},[e("el-popover",{attrs:{placement:"bottom",title:"联系方式",width:"150",trigger:"click",content:"itzhenzichao@163.com"}},[e("a",{staticClass:"email",attrs:{href:"mailto:itzhenzichao@163.com"}},[t._v("itzhenzichao@163.com")]),e("el-button",{attrs:{slot:"reference",type:"info",icon:"el-icon-message",circle:""},slot:"reference"})],1)],1)],1)],1),e("el-container",{attrs:{width:"300px"}},[e("el-aside",{staticClass:"toolbar"},[e("el-form",{ref:"form",attrs:{model:t.configuration,"label-width":"84px",rules:t.rules}},[e("el-form-item",{attrs:{label:"宽度:",prop:"width"}},[e("el-input",{attrs:{clearable:"",placeholder:"图片宽度"},model:{value:t.configuration.width,callback:function(e){t.$set(t.configuration,"width",e)},expression:"configuration.width"}})],1),e("el-form-item",{attrs:{label:"高度:",prop:"height"}},[e("el-input",{attrs:{clearable:"",placeholder:"图片高度"},model:{value:t.configuration.height,callback:function(e){t.$set(t.configuration,"height",e)},expression:"configuration.height"}})],1),e("el-form-item",{attrs:{label:"背景色"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("背景色 "),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"背景色清空会生成透明底的图片",placement:"top-start"}},[e("i",{staticClass:"el-icon-question",staticStyle:{color:"#f56c6c"}})]),t._v(" : ")],1),e("el-color-picker",{attrs:{predefine:t.predefineColors},model:{value:t.configuration.color,callback:function(e){t.$set(t.configuration,"color",e)},expression:"configuration.color"}})],1),e("el-form-item",{attrs:{label:"文字:"}},[e("el-input",{attrs:{placeholder:"显示在图片内的文字",clearable:""},model:{value:t.configuration.text,callback:function(e){t.$set(t.configuration,"text",e)},expression:"configuration.text"}})],1),e("el-form-item",{attrs:{label:"字号:"}},[e("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.configuration.font_size,callback:function(e){t.$set(t.configuration,"font_size",e)},expression:"configuration.font_size"}},t._l(t.fontSizeList,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"文字颜色:"}},[e("el-color-picker",{model:{value:t.configuration.text_color,callback:function(e){t.$set(t.configuration,"text_color",e)},expression:"configuration.text_color"}})],1),e("el-form-item",{attrs:{label:"文字粗细:"}},[e("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.configuration.weight,callback:function(e){t.$set(t.configuration,"weight",e)},expression:"configuration.weight"}},t._l(t.weightList,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1)],1),e("el-main",{staticClass:"picture-area"},[e("div",[t.isShowDom?e("div",{style:{width:t.configuration.width+"px",height:t.configuration.height+"px",lineHeight:t.configuration.height+"px",fontWeight:t.configuration.weight,backgroundColor:t.configuration.color,color:t.configuration.text_color,overflow:"hidden",fontSize:t.configuration.font_size+"px"},attrs:{id:"diy-dom"}},[t._v(" "+t._s(t.configuration.text)+" ")]):t._e()])])],1)],1)],1)},d=[],h=(o("d9e2"),o("b7ef"),o("907a"),o("986a"),o("1d02"),o("3c5d"),o("c0e9")),p=o.n(h),g={name:"Home",data(){var t=(t,e,o)=>{/^\+?[1-9][0-9]*$/.test(Number(e))?o():o(new Error("请输入正整数"))};return{configuration:{},predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00C7BF","#1e90ff","#c71585"],weightList:[100,200,300,400,500,600,700,800,900],fontSizeList:[14,16,18,24,36,48,64,72],rules:{width:[{validator:t,trigger:"blur"}],height:[{validator:t,trigger:"blur"}]},loading:!1}},methods:{handleCanvasOptions(t){let e={backgroundColor:t.color,scale:1};return e},init(){this.configuration={width:"100",height:"100",color:"#ff8c00",text:"Good",weight:700,text_color:"#ffffff",font_size:24}},createPicture(){let t=this,e=this.handleCanvasOptions(this.configuration);t.loading=!0,p()(document.getElementById("diy-dom"),e).then((function(t){return t.style.display="none",document.body.appendChild(t),t})).then(e=>{t.downloadPicture(e)})},downloadPicture(t){var e=t.toDataURL("image/png"),o=e.split(","),n=o[0].match(/:(.*?);/)[1],i=atob(o[1]),r=i.length,a=new Uint8Array(r);while(r--)a[r]=i.charCodeAt(r);let{width:l,height:c}=this.configuration,s=`${l}_${c}.png`;var u=new File([a],s,{type:n}),f=document.createElement("a");f.download=u.name;let d=URL.createObjectURL(u);f.href=d,document.body.appendChild(f),f.click(),document.body.removeChild(f),document.body.removeChild(t),URL.revokeObjectURL(d),this.loading=!1}},components:{},computed:{isShowDom(){let t=/^\+?[1-9][0-9]*$/.test(Number(this.configuration.width)),e=/^\+?[1-9][0-9]*$/.test(Number(this.configuration.height));return t&&e}},mounted(){this.init()}},m=g,b=(o("aebd"),Object(a["a"])(m,f,d,!1,null,"6b4d1f22",null)),v=b.exports;n["default"].use(u["a"]);const w=[{path:"/",name:"Home",component:v}],y=new u["a"]({routes:w});var x=y,_=o("2f62");n["default"].use(_["a"]);var k=new _["a"].Store({state:{},mutations:{},actions:{},modules:{}}),C=o("5c96"),O=o.n(C);o("0fae");n["default"].use(O.a),n["default"].config.productionTip=!1,new n["default"]({router:x,store:k,render:t=>t(s)}).$mount("#app")},6558:function(t,e,o){"use strict";o("8fc8")},"8fc8":function(t,e,o){},aebd:function(t,e,o){"use strict";o("0a87")}});
//# sourceMappingURL=app.054bb0d2.js.map